<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Temas - El Cuaderno de √Åfrica</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&family=Mouse+Memoirs&display=swap');
    </style>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="icon" href="assets/img/pencil.png" type="image/x-icon">
</head>


<body>
    <a href="index.html" class="home-btn" title="Ir al Inicio">üè†</a>

    <header>
        <div id="date-display" class="header-info date"></div>
        <h1 style="cursor: pointer;" onclick="goBack()">Temas üåü</h1>
        <div id="time-display" class="header-info time"></div>
    </header>

    <main>
        <div style="display: flex; flex-direction: column; align-items: center; width: 100%;">

            <h2 id="subject-title"
                style="color: var(--color-texto); margin-bottom: 2rem; font-family: var(--font-display); font-size: 2.5rem;">
                Asignatura</h2>

            <nav class="menu-container">
                <!-- Tema 4 -->
                <a href="#" id="tema-4-link" class="card-btn subject" style="display: none;">
                    <img src="assets/img/notebook.png" alt="Tema 4">
                    <span>Tema 4</span>
                </a>

                <!-- Unit 3 (Ingl√©s) -->
                <a href="#" id="unit-3-link" class="card-btn subject" style="display: none;">
                    <img src="assets/img/notebook.png" alt="Unit 3">
                    <span>Unit 3</span>
                </a>

                <!-- Placeholder para m√°s temas -->
                <div class="card-btn subject" style="opacity: 0.5; cursor: not-allowed;">
                    <span style="font-size: 2rem;">Pr√≥ximamente...</span>
                </div>
            </nav>

            <div style="margin-top: 2rem;">
                <button onclick="goBack()" style="
                    border: none;
                    cursor: pointer;
                    display: inline-block;
                    padding: 1rem 2rem;
                    background: #FF6B6B;
                    color: white;
                    text-decoration: none;
                    font-family: var(--font-display);
                    font-size: 1.5rem;
                    border-radius: 50px;
                    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
                    transition: transform 0.2s;
                " onmouseover="this.style.transform='scale(1.1)'" onmouseout="this.style.transform='scale(1)'">
                    ‚¨ÖÔ∏è Volver
                </button>
            </div>
        </div>
    </main>

    <footer>
        <p>Hecho con ‚ù§Ô∏è para la mejor estudiante</p>
    </footer>

    <script src="assets/js/clock.js"></script>
    <script>
        function goBack() {
            const params = new URLSearchParams(window.location.search);
            const type = params.get('type') || 'ejercicios';
            window.location.href = `asignaturas.html?type=${type}`;
        }

        document.addEventListener('DOMContentLoaded', () => {
            const params = new URLSearchParams(window.location.search);
            const asignatura = params.get('asignatura'); // e.g., 'castellano'
            const type = params.get('type'); // 'ejercicios' or 'resumenes'
            const subjectTitle = document.getElementById('subject-title');
            const h1Title = document.querySelector('h1');
            const tema4Link = document.getElementById('tema-4-link');
            const unit3Link = document.getElementById('unit-3-link');
            const menuContainer = document.querySelector('.menu-container');

            // Configurar t√≠tulos
            let subjectName = "Asignatura";
            if (asignatura === 'castellano') subjectName = "Lengua Castellana";
            else if (asignatura === 'ingles') subjectName = "Ingl√©s / English";
            else if (asignatura === 'valencia') subjectName = "Valenci√†";
            else if (asignatura === 'mates') subjectName = "Matem√°ticas";

            subjectTitle.textContent = subjectName;

            if (asignatura === 'mates') {
                // L√≥gica espec√≠fica para Mates: T√≠tulos personalizados ("Apartados" en vez de Temas)
                // y contenido espec√≠fico
                document.title = `Apartados ${subjectName} - El Cuaderno de √Åfrica`;
                h1Title.textContent = "Apartados üóÇÔ∏è"; // O "Secciones"

                // Show content only if type is 'ejercicios'
                if (type === 'ejercicios') {
                    menuContainer.innerHTML = `
                        <a href="contenido.html?asignatura=mates&tema=operaciones&type=${type}" class="card-btn subject">
                            <span style="font-size: 3rem;">‚ûï‚ûñ</span>
                            <span>Sumo y Resto (Llev√°ndome)</span>
                        </a>
                     `;
                } else {
                    menuContainer.innerHTML = `
                        <div class="summary-card" style="text-align: center; background: #FFF3E0; width: 100%;">
                            <h3>üö´ Sin Res√∫menes</h3>
                            <p>En Matem√°ticas solo practicamos con ejercicios. ¬°Vuelve atr√°s y pulsa en "Ejercicios"! üí™</p>
                        </div>
                     `;
                }
                return; // Stop here for Mates
            }

            if (type === 'ejercicios') {
                h1Title.textContent = "Ejercicios üìù";
                document.title = `Ejercicios ${subjectName} - El Cuaderno de √Åfrica`;
                // Configurar link al contenido de ejercicios
                if (asignatura === 'ingles') {
                    unit3Link.href = `contenido.html?asignatura=ingles&tema=3&type=ejercicios`;
                    unit3Link.style.display = 'flex';
                } else {
                    tema4Link.href = `contenido.html?asignatura=${asignatura}&tema=4&type=ejercicios`;
                    tema4Link.style.display = 'flex';
                }
                // Hide placeholder if themes are shown (using simple logic)
                const placeholder = menuContainer.querySelector('div[style*="opacity: 0.5"]');
                if (placeholder) placeholder.style.display = 'none';

            } else {
                h1Title.textContent = "Res√∫menes üìö";
                document.title = `Res√∫menes ${subjectName} - El Cuaderno de √Åfrica`;
                // Configurar link al contenido de res√∫menes
                if (asignatura === 'ingles') {
                    unit3Link.href = `contenido.html?asignatura=ingles&tema=3&type=resumenes`;
                    unit3Link.style.display = 'flex';
                } else {
                    tema4Link.href = `contenido.html?asignatura=${asignatura}&tema=4&type=resumenes`;
                    tema4Link.style.display = 'flex';
                }
                // Hide placeholder
                const placeholder = menuContainer.querySelector('div[style*="opacity: 0.5"]');
                if (placeholder) placeholder.style.display = 'none';
            }

            // Reutilizar el reloj si el script clock.js hace lo mismo o pegarlo aqu√≠ si es simple
            // Como importamos assets/js/clock.js arriba (asumiendo que existe o lo creamos), si no, usamos el inline.
            // Revisando los archivos anteriores, el script reloj estaba inline en index.html y asignaturas.html.
            updateClock();
            setInterval(updateClock, 1000);
        });

        function updateClock() {
            const now = new Date();
            const dateOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            const dateString = now.toLocaleDateString('es-ES', dateOptions);
            const timeString = now.toLocaleTimeString('es-ES', { hour: '2-digit', minute: '2-digit', second: '2-digit' });
            const capitalizedDate = dateString.charAt(0).toUpperCase() + dateString.slice(1);

            const dateElement = document.getElementById('date-display');
            const timeElement = document.getElementById('time-display');

            if (dateElement) dateElement.textContent = capitalizedDate;
            if (timeElement) timeElement.textContent = timeString;
        }
    </script>
</body>

</html>